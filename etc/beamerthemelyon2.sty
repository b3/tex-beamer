% Un thème Beamer pour l'Université de Lyon 2
% Copyright (C) 2015-2019 Bruno BEAUFILS
% This file is distributed under the terms of the WTFPL license.

\def\filedate{2019/02/04}

% Paramétrages génériques %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% Les couleurs de Lyon 2
\definecolor{Lyon2Rouge}{RGB}{232,66,66}          % en HTML : e84242
\definecolor{Lyon2Noir}{RGB}{0,0,0}               % en HTML : 000000

%% Des "jolies" polices de caractères
\usepackage{lmodern}            % pour sf et tt
\usepackage{fourier}            % pour rm
\usepackage{bbm}                % pour les mathbbm

%% Les polices Lyon 2
\usepackage[scaled=.92]{helvet}

%% Paramétrage hyperref
\hypersetup{%
  colorlinks,%
  linkcolor=,%
  urlcolor=Lyon2Rouge}
  
% Paramétrage Beamer %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\mode<presentation>             % pour le mode présentation seulement

%% Logos
\titlegraphic{%
  \raisebox{-0.5\height}{\includegraphics[width=6em]{logo-univ-lyon2-2018}}
}
\logo{\includegraphics[height=.4cm]{logo-univ-lyon2-2018}}

%% Couleurs
\usecolortheme{spruce}
\setbeamercolor{normal text}{fg=Lyon2Noir}
\setbeamercolor{structure}{fg=Lyon2Rouge}
\setbeamercolor{frametitle}{fg=white,bg=Lyon2Rouge}
\setbeamercolor{title}{fg=white,bg=Lyon2Rouge}
\setbeamercolor{subtitle}{fg=Lyon2Noir,bg=Lyon2Rouge}
\setbeamercolor{footline}{bg=Lyon2Rouge,fg=white}
\setbeamercolor{block title}{bg=Lyon2Rouge,fg=white}
\setbeamercolor{block body}{bg=white,fg=Lyon2Noir}
\setbeamercolor{alerted text}{fg=Lyon2Rouge}

%% Polices de caractères
%\usefonttheme[stillsansseriflarge]{serif}
\usefonttheme[onlylarge]{structurebold}
\setbeamerfont{date in head/foot}{series=\bfseries}
\setbeamerfont{date}{series=\bfseries}
\setbeamerfont{alerted text}{series=\bfseries}

%% Traduction en français
\uselanguage{french}
\languagepath{french}
\deftranslation[to=french]{Definition}{Définition}
\deftranslation[to=french]{Example}{Exemple}
\deftranslation[to=french]{Theorem}{Théorème}

%% Adaptation des modèles

%%% La page de titre
\renewcommand{\maketitle}[1][]{%
  \addtocounter{framenumber}{-1}
  {\setbeamercolor{background canvas}{bg=Lyon2Rouge}\frame[plain,#1]{{\titlepage}}}}
\setbeamertemplate{title page}
{
  {\hspace{-1em}\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\par}
  \vfill
  \begingroup
    \centering
    \begin{beamercolorbox}[sep=8pt,center]{title}
      \usebeamerfont{title}\inserttitle\par%
      \ifx\insertsubtitle\@empty%
      \else%
        \vskip0.25em%
        {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
      \fi%     
    \end{beamercolorbox}%
    \vskip1em\par
    \begin{beamercolorbox}[sep=8pt,center]{author}
      \usebeamerfont{author}\insertauthor
    \end{beamercolorbox}
    \begin{beamercolorbox}[sep=8pt,center]{institute}
      \usebeamerfont{institute}\insertinstitute
    \end{beamercolorbox}
    \begin{beamercolorbox}[sep=8pt,center]{date}
      \usebeamerfont{date}\insertdate
    \end{beamercolorbox}\vskip0.5em
    \endgroup
}
%%% Sections dans la table des matières
\setbeamertemplate{sections/subsections in toc}[sections numbered]

%%% Une page en début de chaque cours
\newif\ifnewlecture\newlecturetrue
\AtBeginLecture{%
  \ifbeamer@inlecture
  \ifnewlecture
  \begin{frame}
    \begin{centering}
      \begin{beamercolorbox}[sep=16pt,center]{part title}
        \usebeamerfont{part title}\insertlecture
      \end{beamercolorbox}
    \end{centering}
  \end{frame}
  \newlecturefalse
  \fi
  \fi
}

%%% Une page simple devant chaque partie
\AtBeginPart{\frame{\partpage}}
\setbeamertemplate{part page}{%
  \begin{center}
    \usebeamerfont{frametitle}\usebeamercolor[fg]{frametitle}\insertpart
  \end{center}
}

%%% Une page simple (avec table des matières) devant chaque section
\setbeamertemplate{section page}{\tableofcontents[currentsection]}
\AtBeginSection[]{\frame{\sectionpage}}

%%% Une page simple (avec table des matières) devant chaque sous-section
\setbeamertemplate{subsection page}{\tableofcontents[currentsubsection]}
\AtBeginSubsection[]{\frame{\subsectionpage}}

%%% Styles des blocs
\setbeamertemplate{blocks}[rounded][shadow=true]
\setbeamerfont{block title}{size={}}

%%% Style des listes
\setbeamertemplate{items}[triangle] % ou ball

%%% Type des continuations
\setbeamertemplate{frametitle continuation}[from second][(suite)]

%%% Des pieds de diapo simples
\setbeamertemplate{footline}
{
  \leavevmode%
  \hbox{%
    \begin{beamercolorbox}[wd=\paperwidth,ht=2.25ex,dp=1ex]{footline}
      \insertlogo
      \hspace*{1.25ex}
      \usebeamerfont{date in head/foot}
      \inserttitle{} \hspace*{3ex} \emph{\textmd{\insertsection}}
      \hfill\hfill
      \insertframenumber{} / \inserttotalframenumber
      \hspace*{1.25ex}
    \end{beamercolorbox}}%
  \vskip0pt%
}
\setbeamertemplate{navigation symbols}{} % pas de navigation affichée
\setbeamertemplate{sidebar right}{}      % pas de logo

%% D'autres paramètres Beamer en vrac

%%% On découvre lentement les trucs cachés
\setbeamercovered{dynamic}

%%% Marges
\setbeamersize{text margin left=1em,text margin right=1em}

% Local Variables:
% time-stamp-active: t 
% time-stamp-pattern: "5/\\filedate{%:y/%02m/%02d}$"
% End:
